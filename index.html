<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Guitar Scales & Chords Interactive Tool</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body data-theme="dark">
    <div id="app">
      <button id="themeToggle" class="theme-toggle">
        <span id="themeIcon">‚òÄÔ∏è</span> <span id="themeText">Light</span>
      </button>
      <!-- Instrument Navigation -->
      <div class="instrument-nav">
        <button class="instrument-button active" data-instrument="guitar">
          üé∏ Guitar
        </button>
        <button class="instrument-button" data-instrument="ukulele">
          üéµ Ukulele
        </button>
        <button class="instrument-button" data-instrument="mandolin">
          ü™ï Mandolin
        </button>
      </div>

      <div class="header">
        <h1 class="title">AcousticDoodler</h1>
        <div class="instrument-title" id="instrumentTitle">Guitar</div>
        <p class="subtitle">
          Interactive fretboard patterns, chord charts, and audio playback
        </p>
      </div>

      <div class="header">
        <h1 class="title">Guitar Scales & Chords</h1>
        <p class="subtitle">
          Interactive fretboard patterns, chord charts, and audio playback
        </p>
      </div>

      <!-- Audio Status -->
      <div id="audioStatus" class="audio-status">
        Click "Initialize Audio" to enable sound playback
      </div>

      <!-- Volume Controls -->
      <div class="volume-controls">
        <button id="initAudioBtn" class="button">üîä Initialize Audio</button>
        <div class="volume-group">
          <div class="volume-label">Master Volume</div>
          <input
            type="range"
            id="masterVolumeSlider"
            class="slider"
            min="0"
            max="100"
            value="50"
          />
          <div class="volume-value" id="masterVolumeValue">50%</div>
        </div>
        <div class="volume-group">
          <div class="volume-label">Note Duration</div>
          <input
            type="range"
            id="noteDurationSlider"
            class="slider"
            min="100"
            max="2000"
            value="500"
          />
          <div class="volume-value" id="noteDurationValue">0.5s</div>
        </div>
        <div class="tuner-controls">
          <button id="tunerButton" class="button tuner-btn">
            üéµ Open Tuner
          </button>
        </div>
      </div>

      <!-- Tab Navigation -->
      <div class="tab-navigation">
        <button class="tab-button active" data-tab="scales">Scales</button>
        <button class="tab-button" data-tab="chords">Chord Chart</button>
      </div>

      <!-- Scales Tab Content -->
      <div id="scales-tab" class="tab-content active">
        <div class="controls-grid">
          <div class="control-group">
            <label class="label">Scale Type</label>
            <select id="scaleSelect" class="select">
              <option value="major">Major</option>
              <option value="minor">Natural Minor</option>
              <option value="pentatonicMajor">Pentatonic Major</option>
              <option value="pentatonicMinor">Pentatonic Minor</option>
              <option value="blues">Blues</option>
              <option value="dorian">Dorian</option>
              <option value="mixolydian">Mixolydian</option>
              <option value="lydian">Lydian</option>
            </select>
          </div>

          <div class="control-group">
            <label class="label">Key</label>
            <select id="keySelect" class="select">
              <option value="C">C</option>
              <option value="C#">C#</option>
              <option value="D">D</option>
              <option value="D#">D#</option>
              <option value="E">E</option>
              <option value="F">F</option>
              <option value="F#">F#</option>
              <option value="G">G</option>
              <option value="G#">G#</option>
              <option value="A">A</option>
              <option value="A#">A#</option>
              <option value="B">B</option>
            </select>
          </div>

          <div class="control-group">
            <label class="label">Pattern</label>
            <select id="patternSelect" class="select">
              <option value="0">Pattern 1 (Root)</option>
            </select>
          </div>

          <div class="control-group">
            <label class="label"
              >Tempo: <span id="tempoValue">120</span> BPM</label
            >
            <input
              type="range"
              id="tempoSlider"
              min="60"
              max="300"
              value="120"
              class="slider"
            />
          </div>
        </div>

        <div class="button-container">
          <button id="playButton" class="button" disabled>
            <span id="playIcon">‚ñ∂Ô∏è</span>
            <span id="playText">Play Pattern</span>
          </button>

          <button id="playFullNeckBtn" class="button-tertiary">
            <span id="fullNeckIcon">üé∏</span>
            <span id="fullNeckText">Full Neck Scale</span>
          </button>

          <button id="infoButton" class="button-secondary">
            ‚ö¨ Scale Info <span id="infoIcon">‚åÑ</span>
          </button>
        </div>

        <div id="infoPanel" class="info-panel hidden">
          <h3 id="infoTitle" class="info-title">C Major Scale</h3>
          <p id="infoText" class="info-text"></p>
          <div class="info-notes">
            <span class="info-label">Scale notes: </span>
            <span id="scaleNotes" class="scale-notes"
              >C - D - E - F - G - A - B</span
            >
          </div>
        </div>

        <div class="fretboard">
          <h2 id="fretboardTitle" class="fretboard-title">
            Fretboard - Pattern 1 (Root)
          </h2>

          <div class="fretboard-container">
            <!-- Fret numbers -->
            <div class="fret-numbers">
              <div class="fret-number"></div>
              <div class="fret-number">0</div>
              <div class="fret-number">1</div>
              <div class="fret-number">2</div>
              <div class="fret-number">3</div>
              <div class="fret-number">4</div>
              <div class="fret-number">5</div>
              <div class="fret-number">6</div>
              <div class="fret-number">7</div>
              <div class="fret-number">8</div>
              <div class="fret-number">9</div>
              <div class="fret-number">10</div>
              <div class="fret-number">11</div>
              <div class="fret-number">12</div>
            </div>

            <!-- Strings and frets -->
            <div id="strings" class="strings">
              <!-- Strings will be generated by JavaScript -->
            </div>
          </div>

          <!-- Legend -->
          <div class="legend">
            <div class="legend-item">
              <div class="legend-color legend-root"></div>
              <span>Root Note (<span id="legendRoot">C</span>)</span>
            </div>
            <div class="legend-item">
              <div class="legend-color legend-pattern"></div>
              <span>Pattern Notes</span>
            </div>
            <div class="legend-item">
              <div class="legend-color legend-open"></div>
              <span>Open Strings</span>
            </div>
            <div class="legend-item">
              <div class="legend-color legend-scale"></div>
              <span>Other Scale Notes</span>
            </div>
            <div class="legend-item">
              <div class="legend-color legend-playing"></div>
              <span>Currently Playing</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Chords Tab Content -->
      <div id="chords-tab" class="tab-content">
        <div class="chord-search">
          <input
            type="text"
            id="chordSearchInput"
            class="search-input"
            placeholder="Search chords (e.g., C, Am, F7, Bm)..."
          />
        </div>

        <div id="chordGrid" class="chord-grid">
          <!-- Chord cards will be generated by JavaScript -->
        </div>
      </div>

      <div class="tips">
        <h2 class="tips-title">Practice Tips</h2>
        <div class="tips-grid" id="tipsGrid">
          <!-- Tips will be generated by JavaScript -->
        </div>
    </div>

          <!-- ADD this entire modal section: -->
      <!-- Tuner Modal -->
    <div id="tunerModal" class="tuner-modal hidden">
      <div class="tuner-overlay" id="tunerOverlay"></div>
      <div class="tuner-content">
        <div class="tuner-header">
          <h2 class="tuner-title">üéµ Instrument Tuner</h2>
          <button id="closeTunerBtn" class="close-tuner-btn">‚úï</button>
        </div>

        <div class="tuner-status">
          <div id="tunerStatusText" class="tuner-status-text">
            Click "Start Tuner" to begin
          </div>
          <button id="startTunerBtn" class="start-tuner-btn">
            üé§ Start Tuner
          </button>
          <button id="stopTunerBtn" class="stop-tuner-btn hidden">
            ‚èπ Stop Tuner
          </button>
        </div>

        <div class="tuning-display">
          <div class="current-note">
            <div class="note-display" id="noteDisplay">--</div>
            <div class="frequency-display" id="frequencyDisplay">-- Hz</div>
          </div>

          <div class="tuning-meter">
            <div class="meter-background">
              <div class="meter-needle" id="tuningNeedle"></div>
              <div class="meter-markers">
                <div class="marker flat">‚ô≠</div>
                <div class="marker center">‚ô™</div>
                <div class="marker sharp">‚ôØ</div>
              </div>
            </div>
          </div>
        </div>

        <div class="string-targets">
          <h3 class="targets-title">Target Notes</h3>
          <div id="stringTargets" class="targets-grid">
            <!-- String targets will be generated by JavaScript -->
          </div>
        </div>

        <div class="tuner-instructions">
          <p>üéØ Pluck a string and watch the tuner respond</p>
          <p>
            üéµ The needle will show if you're flat (‚ô≠), sharp (‚ôØ), or in tune
            (‚ô™)
          </p>
          <p>üîä Adjust your tuning pegs until the needle is centered</p>
        </div>
      </div>
    </div>

    <!-- Modular JavaScript Components -->
    <script src="js/AudioSynth.js"></script>
    <script src="js/InstrumentData.js"></script>
    <script src="js/FretboardRenderer.js"></script>
    <script src="js/ChordRenderer.js"></script>
    <script src="js/Tuner.js"></script>
    <script src="js/AudioPlayer.js"></script>
    <script src="js/UIManager.js"></script>
    <script src="js/App.js"></script>
  </body>
</html>
